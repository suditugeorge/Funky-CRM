{"version":3,"sources":["login.coffee"],"names":[],"mappings":"AAAA;EAAA,CAAA,CAAE,SAAA,GAAA,CAAF;;EAEA,CAAA,CAAE,QAAF,CAAW,CAAC,QAAZ,CAAqB,SAAC,CAAD;IACnB,IAAG,CAAC,CAAC,KAAF,KAAW,EAAd;MACE,CAAA,CAAE,QAAF,CAAW,CAAC,KAAZ,CAAA,EADF;;EADmB,CAArB;;EAKA,CAAA,CAAE,QAAF,CAAW,CAAC,KAAZ,CAAkB,SAAC,CAAD;AACjB,QAAA;IAAA,CAAA,CAAE,QAAF,CAAW,CAAC,WAAZ,CAAwB,SAAxB;IACA,CAAA,CAAE,WAAF,CAAc,CAAC,WAAf,CAA2B,SAA3B;IACA,KAAA,GAAQ,CAAA,CAAE,QAAF,CAAW,CAAC,GAAZ,CAAA;IACR,KAAA,GAAQ,CAAA,CAAE,iBAAF,CAAoB,CAAC,GAArB,CAAA;IACR,QAAA,GAAW,CAAA,CAAE,WAAF,CAAc,CAAC,EAAf,CAAkB,UAAlB;IAEX,IAAG,KAAK,CAAC,IAAN,CAAA,CAAA,KAAgB,EAAnB;MACC,CAAA,CAAE,QAAF,CAAW,CAAC,QAAZ,CAAqB,SAArB;MACA,MAAM,CAAC,KAAP,CAAa,yCAAb;AACA,aAHD;;IAKA,UAAA,GAAa;IACb,IAAG,CAAC,UAAU,CAAC,IAAX,CAAgB,KAAhB,CAAJ;MACC,CAAA,CAAE,QAAF,CAAW,CAAC,QAAZ,CAAqB,SAArB;MACA,MAAM,CAAC,KAAP,CAAa,+BAAb;AACA,aAHD;;IAKA,WAAA,GAAc;IACd,IAAG,CAAC,WAAW,CAAC,IAAZ,CAAiB,KAAjB,CAAJ;MACC,CAAA,CAAE,QAAF,CAAW,CAAC,QAAZ,CAAqB,SAArB;MACA,MAAM,CAAC,KAAP,CAAa,+BAAb;AACA,aAHD;;IAKA,QAAA,GAAW,CAAA,CAAE,WAAF,CAAc,CAAC,GAAf,CAAA;IACX,IAAG,QAAQ,CAAC,IAAT,CAAA,CAAA,KAAmB,EAAtB;MACC,CAAA,CAAE,WAAF,CAAc,CAAC,QAAf,CAAwB,SAAxB;MACA,MAAM,CAAC,KAAP,CAAa,yDAAb;AACA,aAHD;;IAKA,CAAC,CAAC,IAAF,CAAO,QAAP,EAAiB;MAAC,MAAA,EAAQ,KAAT;MAAgB,KAAA,EAAO,KAAvB;MAA8B,QAAA,EAAU,QAAxC;MAAkD,QAAA,EAAU,QAA5D;KAAjB,EAAyF,SAAC,IAAD;MACxF,IAAG,CAAC,IAAI,CAAC,OAAT;QACC,IAAG,OAAO,IAAI,CAAC,KAAZ,KAAqB,WAAxB;UACC,CAAA,CAAE,GAAA,GAAI,IAAI,CAAC,KAAX,CAAiB,CAAC,QAAlB,CAA2B,SAA3B,EADD;;QAEA,MAAM,CAAC,KAAP,CAAa,IAAI,CAAC,OAAlB;AACA,eAJD;OAAA,MAAA;QAMC,MAAM,CAAC,QAAQ,CAAC,IAAhB,GAAuB,aANxB;;IADwF,CAAzF;EA9BiB,CAAlB;AAPA","file":"login.js","sourcesContent":["$ ->\n#On enter login\n$(document).keypress (e) ->\n  if e.which == 13\n    $('#login').click()\n  return\n\n$('#login').click (e) ->\n\t$('#email').removeClass 'invalid'\n\t$('#password').removeClass 'invalid'\n\temail = $('#email').val()\n\ttoken = $('[name=\"_token\"]').val()\n\tremember = $('#remember').is(':checked')\n\n\tif email.trim() == \"\"\n\t\t$('#email').addClass 'invalid'\n\t\ttoastr.error(\"Te rugăm să introduci o adresă de email\")\n\t\treturn\n\n\temailRegex = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/\n\tif !emailRegex.test(email)\n\t\t$('#email').addClass 'invalid'\n\t\ttoastr.error(\"Adresa de email este invalidă\")\n\t\treturn\n\n\tdomainCheck = /@funkycitizens.org\\s*$/\n\tif !domainCheck.test(email)\n\t\t$('#email').addClass 'invalid'\n\t\ttoastr.error(\"Adresa de email este invalidă\")\n\t\treturn\n\n\tpassword = $('#password').val()\n\tif password.trim() == \"\"\n\t\t$('#password').addClass 'invalid'\n\t\ttoastr.error(\"Unul sau mai multe câmpuri sunt goale sau conțin erori!\")\n\t\treturn\n\n\t$.post '/login', {_token: token, email: email, password: password, remember: remember} , (json) ->\n\t\tif !json.success\n\t\t\tif(typeof json.field != 'undefined')\n\t\t\t\t$('#'+json.field).addClass 'invalid'\n\t\t\ttoastr.error(json.message)\n\t\t\treturn\n\t\telse\n\t\t\twindow.location.href = \"/dashboard\"\n\t\treturn\n\n\treturn\n"]}