{"version":3,"sources":["edit-citizen.coffee"],"names":[],"mappings":"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","file":"edit-citizen.js","sourcesContent":["data = {_token:$('[name=\"_token\"]').val()}\n\ngetInfo = ->\n\tprenume = $('#prenume')\n\tnume = $('#nume')\n\tsite = $('#site')\n\temail = $('#email')\n\temail2 = $('#email2')\n\ttelefon = $('#telefon')\n\tfacebook_profil = $('#facebook_profil')\n\tfacebook_pagina = $('#facebook_pagina')\n\tobservatii = $('#observatii')\n\tcontact_id = $('#citizen_id')\n\n\tdata.nume = nume.val()\n\tdata.prenume = prenume.val()\n\tdata.site = site.val()\n\tdata.email = email.val()\n\tdata.email2 = email2.val()\n\tdata.telefon = telefon.val()\n\tdata.facebook_profil = facebook_profil.val()\n\tdata.facebook_pagina = facebook_pagina.val()\n\tdata.observatii = observatii.val()\n\tdata.contact_id = contact_id.val()\n\n\tfalse\n\n$ ->\n\n$('#edit-citizen').click (e) ->\n\te.preventDefault();\n\tprenume = $('#prenume')\n\tnume = $('#nume')\n\temail = $('#email')\n\t#Date de contact\n\tgetInfo()\n\n\temailRegex = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/\n\n\tif !emailRegex.test(data.email)\n\t\ttoastr.error(\"Adresa de email nu este validă!\")\n\t\temail.addClass 'invalid'\n\t\treturn\n\tif data.nume.trim() == \"\"\n\t\ttoastr.error(\"Câmpul nume nu este valid\")\n\t\tnume.addClass 'invalid'\n\t\treturn\n\tif data.prenume.trim() == \"\"\n\t\ttoastr.error(\"Câmpul prenume nu este valid\")\n\t\tprenume.addClass 'invalid'\n\t\treturn\n\n\tdata.basic = true\n\n\t$.post '/edit-citizen', data , (json) ->\n\t\tif json.success\n\t\t\tlocation.reload()\n\t\treturn\n\n\treturn\n$('#adauga-categorie').on 'change', ->\n\tcategorie = $('#adauga-categorie').val()\n\tif categorie == 'pick'\n\t\t$('#new-media').addClass 'hidden'\n\t\t$('#new-donor').addClass 'hidden'\n\t\t$('#new-volunteer').addClass 'hidden'\n\telse if categorie == 'voluntar'\n\t\t$('#new-volunteer').removeClass 'hidden'\n\t\t$('#new-media').addClass 'hidden'\n\t\t$('#new-donor').addClass 'hidden'\n\telse if categorie == 'media'\n\t\t$('#new-media').removeClass 'hidden'\n\t\t$('#new-volunteer').addClass 'hidden'\n\t\t$('#new-donor').addClass 'hidden'\n\telse if categorie == 'donator'\n\t\t$('#new-donor').removeClass 'hidden'\n\t\t$('#new-volunteer').addClass 'hidden'\n\t\t$('#new-media').addClass 'hidden'\n\treturn\n\n$('#add-volunteer').click (e) ->\n\te.preventDefault();\n\t$('#add-volunteer-spinner').removeClass 'hidden'\n\t$('#add-volunteer').addClass 'hidden'\n\n\tdomenii_de_interes = $('#new-volunteer-domains')\n\tskills = $('#new-volunteer-skills')\n\tnume_eveniment = $('#volunteer-event-name')\n\tdetalii_eveniment = $('#volunteer-event-details')\n\trating = $('#volunteer-rating')\n\tavailability = $('#volunteer-event-availability')\n\t#iau toate detaliile personale\n\tgetInfo()\n\tdata.new_volunteer = true\n\tdata.domains_of_interest = domenii_de_interes.val()\n\tdata.skills = skills.val()\n\tdata.event_name = nume_eveniment.val()\n\tdata.event_details = detalii_eveniment.val()\n\tdata.rating = rating.val()\n\tdata.availability = availability.val()\n\n\t$.post '/edit-citizen', data , (json) ->\n\t\tif json.success\n\t\t\tlocation.reload()\n\t\telse\n\t\t\ttoastr.error(json.message)\n\t\t\t$('#add-volunteer-spinner').addClass 'hidden'\n\t\t\t$('#add-volunteer').removeClass 'hidden'\n\t\treturn\n\n\treturn\n\n$('#add-donor').click (e) ->\n\te.preventDefault();\n\n\trecurring_donations = $('#new-donor-recurring_donations')\n\tlegal_form = $('#new-donor-legal_form')\n\tgetInfo()\n\n\tdata.new_donor = true\n\tdata.legal_form = legal_form.val()\n\tdata.recurring_donations = recurring_donations.val()\n\n\t$.post '/edit-citizen', data , (json) ->\n\t\tif json.success\n\t\t\tlocation.reload()\n\t\telse\n\t\t\ttoastr.error(json.message)\n\t\treturn\t\n\treturn\n\n$('#add-media').click (e) ->\n\te.preventDefault();\n\t#$('#add-media-spinner').removeClass 'hidden'\n\t#$('#add-media').addClass 'hidden'\n\tdomenii_de_interes = $('#new-media-domains')\n\tcanale = $('#new-media-channel')\n\tliasons = $('#new-media-liason')\n\tafiliere = $('#affliation')\n\tcheck_in = $('#new-media-check-in')\n\trating = $('#new-media-rating')\n\tlink = $('#new-media-link')\n\tgetInfo()\n\n\tdata.new_media = true\n\tdata.domains_of_interest = domenii_de_interes.val()\n\tdata.channels = canale.val()\n\tdata.liasons = liasons.val()\n\tdata.affliation = afiliere.val()\n\tdata.check_in = check_in.is(':checked')\n\tdata.rating = rating.val()\n\tdata.link = link.val()\n\n\t$.post '/edit-citizen', data , (json) ->\n\t\tif json.success\n\t\t\tlocation.reload()\n\t\telse\n\t\t\ttoastr.error(json.message)\n\t\t\t$('#add-volunteer-spinner').addClass 'hidden'\n\t\t\t$('#add-volunteer').removeClass 'hidden'\n\t\treturn\n\treturn\n\n$('.edit-volunteer').click (e) ->\n\te.preventDefault();\n\tid = $(this).data('id')\n\t$('#edit-volunteer-spinner-'+id).removeClass 'hidden'\n\t$('.edit-volunteer').addClass 'hidden'\n\t$('.delete-volunteer').addClass 'hidden'\n\tgetInfo()\n\t\n\tdata.modify_volunteer = true\n\tdata.updates = {}\n\tdomenii_de_interes = $('#volunteer-domains-'+id)\n\tskills = $('#volunteer-skills-'+id)\n\tnume_eveniment = $('#volunteer-event-name-'+id)\n\tdetalii_eveniment = $('#volunteer-event-details-'+id)\n\trating = $('#volunteer-rating-'+id)\n\tavailability = $('#volunteer-event-availability-'+id)\n\n\tdata.updates.id = id\n\tdata.updates.domains_of_interest = domenii_de_interes.val()\n\tdata.updates.skills = skills.val()\n\tdata.updates.event_name = nume_eveniment.val()\n\tdata.updates.event_details = detalii_eveniment.val()\n\tdata.updates.rating = rating.val()\n\tdata.updates.availability = availability.val()\n\n\t$.post '/edit-citizen', data , (json) ->\n\t\tif json.success\n\t\t\tlocation.reload()\n\t\telse\n\t\t\ttoastr.error(json.message)\n\t\t\t$('#edit-volunteer-spinner-'+id).addClass 'hidden'\n\t\t\t$('.edit-volunteer').removeClass 'hidden'\n\t\t\t$('.delete-volunteer').removeClass 'hidden'\n\t\treturn\n\n\treturn\n\n\n$('.edit-donor').click (e) ->\n\te.preventDefault();\n\tid = $(this).data('id')\n\tgetInfo()\n\tdata.modify_donor = true\n\tdata.updates = {}\n\n\trecurring_donations = $('#edit-donor-recurring_donations-'+id)\n\tlegal_form = $('#edit-donor-legal_form-'+id)\n\n\tdata.updates.recurring_donations = recurring_donations.val()\n\tdata.updates.legal_form = legal_form.val()\n\n\tconsole.log data\t\t\n\treturn\n\n$('.edit-media').click (e) ->\n\te.preventDefault();\n\tid = $(this).data('id')\n\n\t$('#edit-media-spinner-'+id).removeClass 'hidden'\n\t$('#edit-media-'+id).addClass 'hidden'\n\t$('#delete-media-'+id).addClass 'hidden'\t\n\n\tgetInfo()\n\tdata.modify_media = true\n\tdata.updates = {}\n\tdomenii_de_interes = $('#media-domains-'+id)\n\tchannels = $('#media-channels-'+id)\n\tliasons = $('#media-liason-'+id)\n\taffiliation = $('#media-affliation-'+id)\n\tcheck_in = $('#media-check-in-'+id)\n\trating = $('#media-rating-'+id)\n\tnew_link = $('#media-link-'+id+'-new')\n\n\tdata.updates.id = id\n\tdata.updates.domains_of_interest = domenii_de_interes.val()\n\tdata.updates.channels = channels.val()\n\tdata.updates.liasons = liasons.val()\n\tdata.updates.affiliation = affiliation.val()\n\tdata.updates.check_in = check_in.is(':checked')\n\tdata.updates.rating = rating.val()\n\tdata.updates.new_link_value = new_link.val()\n\tdata.updates.links = []\n\n\thtml_links = $('.media-link-'+id)\n\tlinks = []\n\t$.each html_links, (k) ->\n\t\tpos = $(html_links[k]).data('link_id')\n\t\tto_add = {id:pos, link:$(html_links[k]).val()}\n\t\tdata.updates.links.push(to_add)\n\n\t$.post '/edit-citizen', data , (json) ->\n\t\tif json.success\n\t\t\tlocation.reload()\n\t\telse\n\t\t\ttoastr.error(json.message)\n\t\t\t$('#edit-media-spinner-'+id).addClass 'hidden'\n\t\t\t$('#edit-media-'+id).removeClass 'hidden'\n\t\t\t$('#delete-media-'+id).removeClass 'hidden'\n\t\treturn\n\n\treturn\n\n$('.delete-volunteer').click (e) ->\n\te.preventDefault();\n\tid = $(this).data('id')\n\t$('#edit-volunteer-spinner-'+id).removeClass 'hidden'\n\t$('#edit-volunteer-'+id).addClass 'hidden'\n\t$('#delete-volunteer-'+id).addClass 'hidden'\n\tgetInfo()\n\n\tdata.id = id\n\tdata.delete_volunteer = true\n\n\t$.post '/edit-citizen', data , (json) ->\n\t\tif json.success\n\t\t\tlocation.reload()\n\t\telse\n\t\t\ttoastr.error(json.message)\n\t\t\t$('#edit-volunteer-spinner-'+id).addClass 'hidden'\n\t\t\t$('#edit-volunteer-'+id).removeClass 'hidden'\n\t\t\t$('#delete-volunteer-'+id).removeClass 'hidden'\n\t\treturn\n\treturn\t\n\n$('.delete-media').click (e) ->\n\te.preventDefault();\n\tid = $(this).data('id')\t\n\t$('#edit-media-spinner-'+id).removeClass 'hidden'\n\t$('#edit-media-'+id).addClass 'hidden'\n\t$('#delete-media-'+id).addClass 'hidden'\n\tgetInfo()\n\n\tdata.id = id\n\tdata.delete_media = true\n\n\t$.post '/edit-citizen', data , (json) ->\n\t\tif json.success\n\t\t\tlocation.reload()\n\t\telse\n\t\t\ttoastr.error(json.message)\n\t\t\t$('#edit-media-spinner-'+id).addClass 'hidden'\n\t\t\t$('#edit-media-'+id).removeClass 'hidden'\n\t\t\t$('#delete-media-'+id).removeClass 'hidden'\n\t\treturn\t\n\treturn\n\n$('#new-volunteer-skills').select2({\n  tags: true\n})\n$('#volunteer-rating').barrating({\ntheme: 'fontawesome-stars'\n});\n$('#new-media-rating').barrating({\ntheme: 'fontawesome-stars'\n});\n$('.volunteer-rating').barrating({\ntheme: 'fontawesome-stars'\n});\n$('.media-rating').barrating({\ntheme: 'fontawesome-stars'\n});\n$('.volunteer-skills').select2({\n  tags: true\n})\n"]}